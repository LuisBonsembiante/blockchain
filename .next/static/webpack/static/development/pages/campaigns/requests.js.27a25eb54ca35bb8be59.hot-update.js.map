{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.27a25eb54ca35bb8be59.hot-update.js","sources":["webpack:///./pages/campaigns/requests/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {Button, Table} from 'semantic-ui-react';\nimport Layout from '../../../components/Layout';\nimport {Link} from '../../../routes';\nimport Campaign from '../../../ethereum/campaign';\nimport RequestRow from '../../../components/RequestRow';\n\nexport default class RequestIndex extends Component {\n\n    static async getInitialProps(props) {\n\n        const {address} = props.query;\n\n        const campaign = Campaign(address);\n        const requestCount = await campaign.methods.getRequestsCount().call();\n        const approversCount =  await campaign.methods.aproversCount().call();\n\n        const request = await Promise.all(\n            Array(parseInt(requestCount)).fill().map((element, index) => {\n                return campaign.methods.requests(index).call();\n            }));\n\n        console.log(request);\n\n        return {address, request, requestCount, approversCount};\n\n    }\n\n    renderRow() {\n        return this.props.request.map((request, index) => {\n            return <RequestRow\n                id={index}\n                key={index}\n                request={request}\n                address={this.props.address}\n                approversCount={this.props.approversCount}\n            />\n        });\n    }\n\n    render() {\n\n        const {Header, Row, HeaderCell, Body} = Table;\n\n        return (\n            <Layout>\n                <h3>Pending Requests</h3>\n\n                <Link route={`/campaigns/${this.props.address}/requests/new`}>\n                    <a>\n                        <Button primary>Create Request</Button>\n                    </a>\n                </Link>\n                <Table>\n                    <Header>\n                        <Row>\n                            <HeaderCell>ID</HeaderCell>\n                            <HeaderCell>Description</HeaderCell>\n                            <HeaderCell>Amount</HeaderCell>\n                            <HeaderCell>Recipient</HeaderCell>\n                            <HeaderCell>Approval Count</HeaderCell>\n                            <HeaderCell>aprove</HeaderCell>\n                            <HeaderCell>finalize</HeaderCell>\n                        </Row>\n                    </Header>\n                    <Body>\n                        {this.renderRow()}\n                    </Body>\n                </Table>\n            </Layout>\n        );\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAqBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAIA;AAIA;AAAA;AAEA;AAAA;AAqBA;;;;;;AA9DA;;;;;;AAEA;AAEA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AAEA;AAEA;AACA;AACA;;AAJA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAlBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}